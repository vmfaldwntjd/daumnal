
# <p align="center"><img align="center" src="https://github.com/user-attachments/assets/8b370bc3-6379-4d6e-b2e3-761190171aab" width="80" height="80"></p> <h1 align="center">다음날 일기 음악 추천 서비스 </h1>

<p align="center">
힘든 마음을 일기를 통해 풀어내려는 분들을 위한 서비스입니다. 그날에 남긴 감정의 기록을 통해 기분을 분석하고 그에 맞는 음악을 선별하여 사용자에게 추천해줌으로써 좀 더 분위기 있는 일기장 경험을 제공합니다.
</p><br>
<p>

```
📢 SSFAY 10기 2학기 특화프로젝트
📢 프로젝트 진행기간: 24.2.19 ~ 24.4.4 (총 7주)
```

<br/>

## 바로가기
[1. 개발 환경](#1-개발-환경)  
[2. 주요 기능](#2-주요-기능)  
[3. 산출물](#3-산출물)  
[4. 구현한 기능](#4-구현한-기능)
[5. 팀원 소개](#5-팀원-소개)

# 🔍1. 개발 환경

<h4>⛭ Management Tool</h4>
<p align="left">
<img src="https://img.shields.io/badge/JIRA-0052CC?style=for-the-badge&logo=JIRA&logoColor=white">
<img src="https://img.shields.io/badge/gitlab-FC6D26?style=for-the-badge&logo=gitlab&logoColor=white">
<img src="https://img.shields.io/badge/mattermost-0058CC?style=for-the-badge&logo=mattermost&logoColor=white">
<img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white">
<img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">
<img src="https://img.shields.io/badge/postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white">
<img src="https://img.shields.io/badge/GIT-F05032?style=for-the-badge&logo=git&logoColor=white">
</p>

<h4>🖥️ IDE</h4>
<p align="left">
<img src="https://img.shields.io/badge/INTELLIJ-000000?style=for-the-badge&logo=intellijidea&logoColor=white"/>
<img src="https://img.shields.io/badge/VISUAL STUDIO CODE-007ACC?style=for-the-badge&logo=VISUAL STUDIO CODE&logoColor=white"/>
<img src="https://img.shields.io/badge/PYCHARM-000000?style=for-the-badge&logo=pycharm&logoColor=white"/>
</p>

<h4>🚦 Infra</h4>
<p align="left">
<img src="https://img.shields.io/badge/AMAZON EC2-232F3E?style=for-the-badge&logo=amazonec2&logoColor=white"/>
<img src="https://img.shields.io/badge/AMAZON S3-569A31?style=for-the-badge&logo=amazons3&logoColor=white"/>
<img src="https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=nginx&logoColor=white"/>
<img src="https://img.shields.io/badge/DOCKER-2496ED?style=for-the-badge&logo=docker&logoColor=white"/>
<img src="https://img.shields.io/badge/DOCKER COMPOSE-2496ED?style=for-the-badge&logo=&logoColor=white"/>
<img src="https://img.shields.io/badge/UBUNTU-E95420?style=for-the-badge&logo=ubuntu&logoColor=white"/>
<img src="https://img.shields.io/badge/JENKINS-D24939?style=for-the-badge&logo=jenkins&logoColor=white"/>
</p>

<h4>📱Frontend</h4>
<p align="left">
<img src="https://img.shields.io/badge/REACT-61DAFB?style=for-the-badge&logo=REACT&logoColor=white"/>
<img src="https://img.shields.io/badge/TYPE SCRIPT-3178C6?style=for-the-badge&logo=TYPESCRIPT&logoColor=white"/>
<img src="https://img.shields.io/badge/TAIL WIND CSS-06B6D4?style=for-the-badge&logo=TAILWINDCSS&logoColor=white"/>
</p>

<h4>💾 Backend</h4>
<p align="left">
<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white">
<img src="https://img.shields.io/badge/SPRING BOOT-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"/>
<img src="https://img.shields.io/badge/SPRING SECURITY-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white"/>
<img src="https://img.shields.io/badge/MYSQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white"/>
<img src="https://img.shields.io/badge/PYTHON-3776AB?style=for-the-badge&logo=python&logoColor=white"/>
<img src="https://img.shields.io/badge/FAST API-009688?style=for-the-badge&logo=FASTAPI&logoColor=white"/>
<img src="https://img.shields.io/badge/JSON WEB TOKENS-000000?style=for-the-badge&logo=JSON WEB TOKENS&logoColor=white"/>
</p><br>

<p>

# 🔍2. 주요 기능
## 1️⃣ 로그인
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/02b9429e-220b-42c8-b5b4-b1c38b283b98"/>
카카오 소셜 로그인 화면입니다. 저희 다음날 서비스를 이용하기 위해서는 간단한 로그인 절차를 진행하면 누구나 이용하실 수 있습니다.

## 2️⃣ 캐릭터 소개
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/13414893-94e3-4898-99d3-a77157f4dfdb"/>
다음날 서비스의 매력적인 나무들을 소개합니다! 각 캐릭터는 여러분이 쓴 일기를 바탕으로 여러분에게 개성 넘치는 매력으로 음악을 추천해 드립니다. 이들의 유니크한 성격이
반영된 음악 선택으로 각기 다른 분위기의 노래를 경험하실 수 있습니다.

## 3️⃣ 일기 쓰기
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/e93a1f10-9da2-4715-b72f-7e58278006b5"/>
일기를 쓰는 과정입니다! 날짜 옆에 있는 스피커는 배경음악 선택하기 위한 버튼으로 저희 서비스가 제공하는 여러 배경음악 또는 효과음을 설정하실 수 있습니다.
제목, 해시태그, 일기 그림, 글쓰기 공간을 활용하여 일기 내용을 등록하시면 쓴 일기 내용의 감정 분석을 바탕으로 저희 나무 캐릭터들이 각자의 노래를 준비해옵니다.

## 4️⃣ 노래 선택
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/72a88b71-1d99-4c8d-b389-4a76776f0bd5"/>
네 개의 개성 있는 나무 중 하나를 선택하시면, 그 나무가 엄선한 노래 추천을 받아보실 수 있습니다. 
오늘의 일기에 맞는 음악이 바로 등록되니, 기록과 동시에 여러분의 일상에 음악을 더합니다. 
일기를 등록하면 달력에 자동으로 체크가 되어, 매일의 소중한 순간들을 놓치지 않게 도와드립니다!

## 5️⃣ 일기 상세 보기
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/0137d178-04d9-44ed-9b94-a3f20669f93c"/>
해당 날짜를 클릭하면 그날 기록한 일기와 함께 추천받은 노래를 확인하실 수 있습니다. 
음표 아이콘을 통해 이 노래들을 개인 플레이리스트에 추가할 수 있고, 악보 아이콘으로 가사를 보며, 마음에 드는 가사 문구를 저장하는 기능도 이용하실 수 있습니다.

## 6️⃣ 일기 감정 분석 결과
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/4a9ba5bc-66b1-4ce5-9705-5079c3333adb"/>
작성한 일기에서 나타나는 감정의 분포를 한눈에 볼 수 있습니다. 감정 분포도에는 행복, 슬픔, 분노, 혐오, 놀람, 두려움, 중립인 7가지의 감정 데이터가 포함되어 있습니다.  

## 7️⃣ 일기 모음
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/4468a883-d21f-4718-9092-56b497e836e4"/>
캘린더를 통해 지금까지 작성한 일기와 음악을 손쉽게 되돌아볼 수 있습니다!

## 8️⃣ 월별 감정 분석 보기
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/506aafdc-9c55-42ea-876e-25ab10927867"/>
한 달 동안의 감정 분석을 돌아보며 더 나은 자신으로 성장하는 계기를 마련해 보세요!

## 9️⃣ 나의 플레이리스트
<img src="https://github.com/hel-gather/hel-gather-server/assets/75198221/97b27457-e1b2-44a5-aca6-89065f722e12"/>
그동안 일기를 쓰면서 추천 받았던 노래로 만들었던 여러분만의 플레이리스트로 자유롭게 노래를 감상하실 수 있습니다!  

- - -
# 🔍3. 산출물
## 시스템 아키텍처
<img src="https://github.com/user-attachments/assets/5ebf8a28-6da7-4477-aee4-a3effe28f411"/>

- 웹 기반 어플리케이션
    - React를 활용하 웹 애플리케이션 서비스
- 카카오 로그인
    - OAuth2 인증을 활용해 불필요한 개인 정보 입력 최소화
- Redis를 활용한 개인정보 저장
    - in-memory DB를 활용하여 실시간 사용자의 로그인 토큰 조회 최적화 및 토큰 삭제 자동화
- 이미지 정보 저장
    - s3를 활용하여 일기 그림 데이터의 안전성 및 확장성 향상
## ERD
<img src="https://github.com/spring-projects/spring-security/assets/75198221/fb1e1ad9-b723-46d1-adc8-c13d7157ff7f"/>
</p>


# 🔍4. 구현한 기능
- jwt 토콘 발행 기능 구현 
  - 카카오 소셜 로그인을 통해서 프론트에서 회원 정보를 받고 이를 access token 및 refresh token으로 변환하였습니다.
  - 인증이 안되는 토큰을 인증하려고 하는 경우 AuthenticationEntryPoint 객체를 활용하여 에러 내용을 커스텀 하였습니다.
  - access token이 만료가 되면 refresh token을 활용하여 access token을 재발급하도록 기능을 구현했습니다.
- 회원 닉네임 정보 입력, 수정, 조회 기능 구현
  - 다음날에서 첫 로그인을 진행하면 닉네임 입력 과정을 무조건 거쳐야 하는데 이 과정을 거치지 않는 경우 발생할 수 있는 예외처리를 진행했습니다.
  - 닉네임 입력 시 여러 제한 사항을 정해두었는데 이와 관련 예외처리를 진행했습니다.
- 일기 입력, 조회, 삭제 기능 구현
  - 일기를 입력 시 데이터베이스에 일기에 대한 내용이 저장됩니다. 일기 입력 시 일기 내용 및 해시 태그 내용도 받게 되는데 일기 내용은 글자 수 제한 예외 처리를 추가로 구현했고, 해시 태그는 태그의 개수, 내용에 대한 예외 처리를 추가로 구현했습니다.
  - 자신이 쓴 일기 정보를 조회, 입력, 삭제할 때 로그인 처리가 완료된 회원인 경우만 가능하도록 예외처리 기능을 구현하였습니다.
- 일기 감정 정보 조회 기능 구현
  - 길기 감정 정보를 조회할 때 로그인 된 회원에 한해서 정보를 조회할 수 있도록 예외 처리를 진행했습니다.
  - 특정 날짜에 쓴 일기에 대한 상세 정보를 조회할 때 분석이 완료된 감정 정보를 조회할 수 있도록 기능을 구현했습니다. (감정 정보는 수치로 표현이 됩니다. (1 ~ 10000))
  - jpa 레포지토리를 활용하여 특정 월(month)에 해당하는 날짜별 감정정보를 모두 조회할 수 있는 필터링 기능을 구현하였습니다.
- 배경음악 정보 조회 및 변경 기능 구현
  - 일기를 작성 시 배경음악을 듣기 위한 정보를 조회하는 기능을 구현하였습니다.
  - 배경음악 목록 조회 기능, 특정 배경 음악 조회 기능, 사용자가 선택한 배경음악 정보 조회 기능을 구현하였습니다.
  - 사용자가 원하는 배경음악으로 설정할 수 있도록 배경음악 변경 기능을 구현하였습니다.
- mysql 데이터베이스에 procedure 를 활용하여 음악, 일기, 감정 관련 더미데이터 삽입 

# 👩‍👦‍👦6. 팀원 소개

### 🖥️ 프론트엔드
| [손지은](https://github.com/sje08250)                                                                                  | [정성현](https://github.com/awaySH)                                                                                   | [조서현](https://github.com/j0j00h)                                                                                    |
|------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| <img width="100" alt="Screenshot 2023-06-19 at 2 35 05 PM" src="https://avatars.githubusercontent.com/u/116146923?v=4"> | <img width="100" alt="Screenshot 2023-06-19 at 2 35 05 PM" src="https://avatars.githubusercontent.com/u/172378447?v=4"> | <img width="100" alt="Screenshot 2023-06-19 at 2 35 05 PM" src="https://avatars.githubusercontent.com/u/172246696?v=4"> |

### 💻 백엔드
| [진주성](https://github.com/vmfaldwntjd)                                                                                                                                  | [전새벽](https://github.com/toqurJeon)                                                                | [김예지](https://github.com/ykim-yeji) |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|------------------------------------|
| <img width="100" alt="Screenshot 2023-06-19 at 2 41 20 PM" src="https://github.com/hel-gather/hel-gather-server/assets/67910922/d9ade50f-3d51-4674-bbc2-96046980e01d"> | <img src="https://avatars.githubusercontent.com/u/170904724?v=4" alt="이미지" style="width: 100px;"> |  <img src="https://avatars.githubusercontent.com/u/68416691?v=4" alt="이미지" style="width: 100px;"> |

