<!DOCTYPE html>
<html>

<body>
  <!-- The <iframe> (and video player) will replace this <div> tag. -->
  <div id="player" style="display: none;"></div>
  <!-- The controls for the video player. -->
  <button onclick="playPause()">Play/Pause</button>
  <input type="range" id="volume" min="0" max="100" step="1" oninput="setVolume(this.value)">
  <input type="range" id="seek" min="0" max="100" step="1" oninput="seekVideo(this.value)">
  <span id="currentTime">0:00</span> / <span id="duration">0:00</span>

  <script>
    // This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // Variables to store player, interval ID, and current state.
    var player;
    var intervalId;
    var isPlaying = false;

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '360',
        width: '640',
        videoId: 'ZqJ7bfgacSA',
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      // Set the initial volume to 50%.
      player.setVolume(50);

      // Get the video duration and set the max value for the seek input.
      var duration = player.getDuration();
      document.getElementById('duration').innerText = formatTime(duration);
      document.getElementById('seek').max = duration;

      // Start updating the seek bar and current time.
      intervalId = setInterval(updateSeekbar, 1000);
    }

    function onPlayerStateChange(event) {
      // If the video is playing, update the UI accordingly.
      if (event.data === YT.PlayerState.PLAYING) {
        isPlaying = true;
      } else {
        isPlaying = false;
      }
    }

    function playPause() {
      if (isPlaying) {
        player.pauseVideo();
      } else {
        player.playVideo();
      }
    }

    function setVolume(value) {
      player.setVolume(value);
    }

    function seekVideo(value) {
      player.seekTo(value);
    }

    function updateSeekbar() {
      var currentTime = player.getCurrentTime();
      document.getElementById('currentTime').innerText = formatTime(currentTime);
      document.getElementById('seek').value = currentTime;
    }

    function formatTime(seconds) {
      var minutes = Math.floor(seconds / 60);
      seconds = Math.floor(seconds % 60);
      return minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
    }
  </script>
</body>

</html>
